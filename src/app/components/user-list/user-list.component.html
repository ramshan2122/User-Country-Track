<div class="p-4 w-[90%] mx-auto">
  <h2 class="text-center mb-5">-- User Country Track App --</h2>
  <div class="mb-4 flex flex-col lg:flex-row items-center gap-2">
    <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="onSearch($event)" placeholder="Search..."
      class="form-control w-full lg:w-auto" />
    <button class="btn btn-secondary" (click)="clearFilter()">Clear</button>
    <button class="btn btn-primary" (click)="navigateToCreate()">Create New User</button>
  </div>
  @if(searchTerm.trim() && filteredUsers.length==0){
<div>
  <p class="alert-message">No users found matching your search.</p>
</div>
  }


  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Full Name</th>
          <th>Email</th>
          <th>Country</th>
          <th>Created At</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for(user of filteredUsers;track $index){
        <tr>
          <td>{{ user.firstName }} {{ user.lastName }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.country }}</td>
          <td>{{ user.createdAt | date: 'medium' }}</td>
          <td>
            <button class="btn btn-sm btn-info m-2" (click)="editUser(user.email)">Edit</button>
            <button class="btn btn-sm btn-danger m-2" (click)="deleteUser(user.email)">Delete</button>
          </td>
        </tr>
        }

      </tbody>
    </table>
  </div>
</div>